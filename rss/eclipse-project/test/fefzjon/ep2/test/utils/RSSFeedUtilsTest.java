package fefzjon.ep2.test.utils;

import java.util.Calendar;
import java.util.Date;

import junit.framework.Assert;

import org.junit.Test;

import fefzjon.ep2.rssfeed.utils.RSSFeedUtils;

public class RSSFeedUtilsTest {
	@Test
	public void getDateFromDescriptionTest() {
		String descriptionTest1 = "<![CDATA[Título: DCC - Consulta a ontologias utilizando linguagem natural controlada<br />Local: Instituto de Matemática e Estatística | IME-USP / Cidade Universitária - São Paulo<br />Categoria: DCC - Seminarios<br />Data: 06.06.2013<br />Hora: 14.00 h<br />Descrição: <span style=\"font-family: arial, helvetica, sans-serif; font-size: 10pt; line-height: 19.5px;\">Seminário do Grupo de Lógica, Inteligência Artificial</span><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><span style=\"font-family: arial, helvetica, sans-serif; font-size: 10pt; line-height: 19.5px;\">e Métodos Formais - LIAMF</span><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><span style=\"font-family: arial, helvetica, sans-serif; font-size: 10pt; line-height: 19.5px;\">Seminário Registrado na CPG do IME/USP</span><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><span style=\"font-family: arial, helvetica, sans-serif; font-size: 10pt;\"><span style=\"line-height: 19.5px;\">Página:&nbsp;</span><a href=\"http://www.ime.usp.br/~liamf/seminarios/index.html\" target=\"_blank\" style=\"padding: 0px; margin: 0px; color: #36525d; cursor: pointer; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\"></a><a href=\"http://www.ime.usp.br/~liamf/seminarios/index.html\">http://www.ime.usp.br/~liamf/seminarios/index.html</a></span><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><span style=\"font-family: arial, helvetica, sans-serif; font-size: 10pt; line-height: 19.5px;\"></span><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><span style=\"font-family: arial, helvetica, sans-serif; font-size: 10pt; line-height: 19.5px;\">Local: Sala 259 - Bloco A</span><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><br /><span style=\"font-family: arial, helvetica, sans-serif; font-size: 10pt; line-height: 19.5px;\">Palestrante: Fabiano Ferreira Luz</span><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><span style=\"font-family: arial, helvetica, sans-serif; font-size: 10pt; line-height: 19.5px;\">Resumo:</span><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><span style=\"font-family: arial, helvetica, sans-serif; font-size: 10pt; line-height: 19.5px;\">Ontologias são modelos de dados que representam um conjunto de conceitos dentro de um domínio e os relacionamentos entre eles. RDF (do inglês, Resource Description Framework) é uma linguagem para representar informação na internet construída com o objetivo de criar um modelo simples de dados com uma semântica formal. RDF também é a base para a construção de ontologias. A linguagem de consulta e manipulação de arquivos RDF é denominada SPARQL (do inglês, SPARQL Protocol and RDF Query Language)</span><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><span style=\"font-family: arial, helvetica, sans-serif; font-size: 10pt; line-height: 19.5px;\">Atualmente, existe um grande número de bases RDF e ontologias disponíveis para consultas na web. A união desta expressividade com recursos de processamento de linguagem natural abre horizontes para o desenvolvimento de novos tipos de busca. As consultas em linguagem natural, por exemplo, refinam a busca, trazendo mais eficiência e facilidade ao usuário.</span><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><br style=\"padding: 0px; margin: 0px; font-family: Menlo, Consolas, 'Lucida Console', 'DejaVu Sans Mono', monospace; font-size: 15.199999809265137px; line-height: 19.5px;\" /><span style=\"font-family: arial, helvetica, sans-serif; font-size: 10pt; line-height: 19.5px;\">Nesse seminário, será apresentado um modelo pelo qual transformamos consultas em uma linguagem controlada para consultas SPARQL, tendo como base ontologias \"controladas\", isto é, ontologias que são desenvolvidas obedecendo um padrão na escrita e organização dos elementos.</span>]]>";

		Calendar calendar = Calendar.getInstance();
		calendar.set(2013, Calendar.JUNE, 06, 14, 0, 0);
		Date expected = calendar.getTime();
		Date desc = RSSFeedUtils.getDateFromDescription(descriptionTest1);

		/*
		 * A porcaria do Calendar leva em conta milissegundos e faz o equals dar
		 * errado
		 */
		Assert.assertEquals(expected.toString(), desc.toString());
	}
}
